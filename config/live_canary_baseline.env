# Live canary baseline profile for first deployment stages.
# Copy selected lines into your runtime `.env` or container environment.

# Hard safety latches
LIVE_ORDER_POSTING_ENABLED=false
LIVE_TRADING_ENABLED=false
MODEL_PROBABILITY_GATE_ENFORCE_LIVE=false
INTELLIGENCE_GATE_ENABLED=true
INTELLIGENCE_GATE_MAX_STALENESS_MS=2500
INTELLIGENCE_GATE_REQUIRE_PEER_CONFIRMATION=true
INTELLIGENCE_GATE_STRONG_MARGIN=0.015

# Global sizing posture (conservative)
STRATEGY_WEIGHT_CAP=1.30
STRATEGY_ALLOCATOR_MIN_SAMPLES=30
STRATEGY_ALLOCATOR_TARGET_SHARPE=0.55

# Meta allocator overlay (portfolio-level)
META_ALLOCATOR_ENABLED=true
META_ALLOCATOR_META_BLEND=0.50
META_ALLOCATOR_MIN_OVERLAY=0.70
META_ALLOCATOR_MAX_OVERLAY=1.15
META_ALLOCATOR_FAMILY_CONCENTRATION_SOFT_CAP=0.42
META_ALLOCATOR_COST_DRAG_PENALTY_BPS=20

# Cross-horizon risk overlay (keep tame initially)
CROSS_HORIZON_ROUTER_ENABLED=true
CROSS_HORIZON_ROUTER_CONFIRM_MULT=1.08
CROSS_HORIZON_ROUTER_CONFLICT_MULT=0.72
CROSS_HORIZON_ROUTER_MAX_BOOST=1.15

# Execution shortfall optimizer (protect thin-edge entries)
EXECUTION_SHORTFALL_OPTIMIZER_ENABLED=true
EXECUTION_SHORTFALL_TARGET_RETAIN_BPS=20
EXECUTION_SHORTFALL_MIN_RETAIN_BPS=3
EXECUTION_SHORTFALL_MAX_SIZE_REDUCTION_PCT=0.60
EXECUTION_SHORTFALL_MIN_SIGNAL_NOTIONAL_USD=15

# Cross-strategy netting guard (cap same-market directional load)
EXECUTION_NETTING_ENABLED=true
EXECUTION_NETTING_TTL_MS=1200000
EXECUTION_NETTING_MARKET_CAP_USD=850
EXECUTION_NETTING_OPPOSING_BLOCK_RATIO=0.90

# Polymarket live-post ceilings
POLY_MAX_ORDER_NOTIONAL_USD=120
POLY_MAX_SIGNAL_NOTIONAL_USD=350
POLY_EXECUTION_MIN_INTERVAL_MS=2500
POLY_LIVE_ORDER_TYPE=FOK

# Optional phased allowlist (when LIVE_ORDER_POSTING_ENABLED=true)
POLY_LIVE_STRATEGY_ALLOWLIST=BTC_5M,BTC_15M,ETH_5M,ETH_15M,SOL_5M,SOL_15M,ATOMIC_ARB,GRAPH_ARB

# Soak report thresholds
SOAK_MIN_PREFLIGHT_SAMPLES=20
SOAK_MIN_PREFLIGHT_PASS_RATE_PCT=96
SOAK_MAX_SHORTFALL_BLOCK_RATE_PCT=18
SOAK_MAX_NETTING_BLOCK_RATE_PCT=12
SOAK_MIN_EDGE_CAPTURE_RATIO=0.55
